@page "/projects"
@inject IAnalyticsService AnalyticsService

<PageTitle>Projects - Portfolio</PageTitle>

<div class="projects-container">
    <BackButton />
    <div class="projects-header">
        <h1>My Projects</h1>
        <p class="lead">A showcase of my cybersecurity and development work</p>
    </div>

    <div class="projects-grid">
        <div class="project-card" @onclick="@(() => TrackProjectView("TechMart"))">
            <div class="project-header">
                <h3>TechMart - E-Commerce Platform</h3>
                <div class="project-links">
                    <a href="https://github.com/Dev-Lusale/TechMart" target="_blank" class="btn btn-outline-primary btn-sm" @onclick:stopPropagation="true">
                        <i class="bi bi-github"></i> GitHub
                    </a>
                </div>
            </div>
            <p class="project-description">
                TechMart is a cutting-edge, professional e-commerce platform designed to provide a high-performance shopping experience for consumer and enterprise electronics. 
                Developed with a focus on modern 2025 standards, it combines a sleek, responsive UI/UX with robust backend functionality to drive digital sales and user engagement.
            </p>
            <div class="tech-stack">
                <span class="tech-tag">ASP.NET Core</span>
                <span class="tech-tag">C#</span>
                <span class="tech-tag">HTML</span>
                <span class="tech-tag">CSS</span>
                <span class="tech-tag">JavaScript</span>
                <span class="tech-tag">SQL Server</span>
                <span class="tech-tag">Entity Framework</span>
            </div>
        </div>

        <div class="project-card" @onclick="@(() => TrackProjectView("Student Record Thinker"))">
            <div class="project-header">
                <h3>Student Record Thinker - AI Grade Predictor</h3>
                <div class="project-links">
                    <a href="https://github.com/Dev-Lusale/student_record-thinker" target="_blank" class="btn btn-outline-primary btn-sm" @onclick:stopPropagation="true">
                        <i class="bi bi-github"></i> GitHub
                    </a>
                </div>
            </div>
            <p class="project-description">
                A student record thinker that predicts students' grades using machine learning algorithms. 
                This intelligent system analyzes historical academic data, attendance patterns, and performance metrics to provide accurate grade predictions and academic insights for educational institutions.
            </p>
            <div class="tech-stack">
                <span class="tech-tag">C++</span>
                <span class="tech-tag">Machine Learning</span>
                <span class="tech-tag">Data Analysis</span>
                <span class="tech-tag">Algorithms</span>
                <span class="tech-tag">Statistical Modeling</span>
            </div>
        </div>

        <div class="project-card" @onclick="@(() => TrackProjectView("Mukubaico EnviroSafe"))">
            <div class="project-header">
                <h3>Mukubaico EnviroSafe App - Environmental Safety Platform</h3>
                <div class="project-links">
                    <a href="https://github.com/Dev-Lusale/Mukubaico-enviroSafe-app" target="_blank" class="btn btn-outline-primary btn-sm" @onclick:stopPropagation="true">
                        <i class="bi bi-github"></i> GitHub
                    </a>
                </div>
            </div>
            <p class="project-description">
                Mukubaico Environmental (MUKUBAICO) is an innovative, technology-driven environmental and mining safety consultancy platform focused on sustainable resource management and pollution prevention. 
                The application provides comprehensive environmental monitoring, safety compliance tracking, and sustainability reporting tools.
            </p>
            <div class="tech-stack">
                <span class="tech-tag">Environmental Monitoring</span>
                <span class="tech-tag">Safety Compliance</span>
                <span class="tech-tag">Data Analytics</span>
                <span class="tech-tag">Sustainability Reporting</span>
                <span class="tech-tag">Mining Safety</span>
            </div>
        </div>
    </div>
</div>

@code {
    protected override async Task OnInitializedAsync()
    {
        await AnalyticsService.TrackPageViewAsync("/projects", "Projects");
    }

    private async Task TrackProjectView(string projectName)
    {
        await AnalyticsService.TrackEventAsync("project_view", projectName);
    }
}

<style>
    .projects-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: clamp(1rem, 4vw, 2rem);
    }

    .projects-header {
        text-align: center;
        margin-bottom: clamp(2rem, 6vw, 3rem);
    }

    .projects-header h1 {
        font-size: clamp(2rem, 5vw, 2.5rem);
        margin-bottom: 1rem;
        color: #333;
    }

    .lead {
        font-size: clamp(1rem, 2.5vw, 1.2rem);
        color: #666;
    }

    .projects-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(min(350px, 100%), 1fr));
        gap: clamp(1.5rem, 4vw, 2rem);
        padding: 0 0.5rem;
    }

    .project-card {
        background: white;
        border-radius: 12px;
        padding: clamp(1.2rem, 4vw, 2rem);
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        transition: transform 0.2s ease, box-shadow 0.2s ease;
        border: 1px solid #e9ecef;
        height: fit-content;
        cursor: pointer;
    }

    .project-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
    }

    .project-card:active {
        transform: translateY(-2px);
    }

    .project-header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        margin-bottom: 1rem;
        flex-wrap: wrap;
        gap: clamp(0.5rem, 2vw, 1rem);
    }

    .project-header h3 {
        margin: 0;
        color: #333;
        font-size: clamp(1.1rem, 2.8vw, 1.3rem);
        flex: 1;
        min-width: min(200px, 100%);
        line-height: 1.3;
    }

    .project-links {
        display: flex;
        gap: clamp(0.3rem, 1vw, 0.5rem);
        flex-wrap: wrap;
        flex-shrink: 0;
    }

    .project-description {
        color: #555;
        line-height: 1.6;
        margin-bottom: 1.5rem;
        font-size: clamp(0.9rem, 2vw, 1rem);
    }

    .tech-stack {
        display: flex;
        flex-wrap: wrap;
        gap: clamp(0.3rem, 1vw, 0.5rem);
    }

    .tech-tag {
        background: #e9ecef;
        color: #495057;
        padding: clamp(0.25rem, 1vw, 0.3rem) clamp(0.5rem, 1.5vw, 0.7rem);
        border-radius: 15px;
        font-size: clamp(0.7rem, 1.8vw, 0.8rem);
        font-weight: 500;
        transition: all 0.2s ease;
        white-space: nowrap;
    }

    .tech-tag:hover {
        background: #6c757d;
        color: white;
        transform: scale(1.05);
    }

    .btn {
        padding: clamp(0.3rem, 1vw, 0.4rem) clamp(0.6rem, 1.5vw, 0.8rem);
        border-radius: 6px;
        text-decoration: none;
        font-size: clamp(0.75rem, 1.8vw, 0.85rem);
        font-weight: 500;
        transition: all 0.2s ease;
        border: 1px solid;
        display: inline-flex;
        align-items: center;
        gap: clamp(0.2rem, 0.5vw, 0.3rem);
        white-space: nowrap;
        min-height: 32px;
    }

    .btn-outline-primary {
        color: #667eea;
        border-color: #667eea;
        background: transparent;
    }

    .btn-outline-primary:hover {
        background: #667eea;
        color: white;
        transform: translateY(-1px);
    }

    .btn-outline-success {
        color: #28a745;
        border-color: #28a745;
        background: transparent;
    }

    .btn-outline-success:hover {
        background: #28a745;
        color: white;
        transform: translateY(-1px);
    }

    /* Mobile Optimizations */
    @@media (max-width: 768px) {
        .projects-grid {
            grid-template-columns: 1fr;
            padding: 0;
        }
        
        .project-header {
            flex-direction: column;
            align-items: flex-start;
            gap: 0.75rem;
        }
        
        .project-links {
            width: 100%;
            justify-content: flex-start;
        }
        
        .project-card {
            padding: 1.2rem;
        }
    }

    /* Small Mobile */
    @@media (max-width: 480px) {
        .projects-container {
            padding: 1rem 0.75rem;
        }
        
        .project-card {
            padding: 1rem;
        }
        
        .project-links {
            flex-direction: column;
            gap: 0.5rem;
        }
        
        .btn {
            justify-content: center;
            width: 100%;
        }
    }

    /* Tablet Portrait */
    @@media (min-width: 481px) and (max-width: 768px) {
        .projects-grid {
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        }
    }

    /* Tablet Landscape */
    @@media (min-width: 769px) and (max-width: 1024px) {
        .projects-grid {
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
        }
    }

    /* Large Desktop */
    @@media (min-width: 1200px) {
        .projects-grid {
            grid-template-columns: repeat(auto-fit, minmax(380px, 1fr));
        }
    }

    /* Touch Device Optimizations */
    @@media (hover: none) and (pointer: coarse) {
        .btn {
            min-height: 44px;
            padding: 0.6rem 1rem;
        }
        
        .project-card:hover {
            transform: none;
        }
        
        .project-card:active {
            transform: scale(0.98);
        }
        
        .tech-tag:hover {
            transform: none;
        }
        
        .tech-tag:active {
            transform: scale(0.95);
        }
    }

    /* Landscape Mobile */
    @@media (orientation: landscape) and (max-height: 600px) {
        .projects-container {
            padding: 1rem;
        }
        
        .projects-header {
            margin-bottom: 1.5rem;
        }
        
        .projects-grid {
            gap: 1rem;
        }
        
        .project-card {
            padding: 1rem;
        }
    }
</style>